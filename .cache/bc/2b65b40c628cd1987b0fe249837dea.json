{"id":"../src/import/firefox.ts","dependencies":[{"name":"/Users/zacharymarion/src/speedscope-fork/tsconfig.json","includedInParent":true,"mtime":1704303070474},{"name":"/Users/zacharymarion/src/speedscope-fork/package.json","includedInParent":true,"mtime":1704303070392},{"name":"../lib/profile","loc":{"line":1,"column":39},"parent":"/Users/zacharymarion/src/speedscope-fork/src/import/firefox.ts","resolved":"/Users/zacharymarion/src/speedscope-fork/src/lib/profile.ts"},{"name":"../lib/utils","loc":{"line":2,"column":28},"parent":"/Users/zacharymarion/src/speedscope-fork/src/import/firefox.ts","resolved":"/Users/zacharymarion/src/speedscope-fork/src/lib/utils.ts"},{"name":"../lib/value-formatters","loc":{"line":3,"column":30},"parent":"/Users/zacharymarion/src/speedscope-fork/src/import/firefox.ts","resolved":"/Users/zacharymarion/src/speedscope-fork/src/lib/value-formatters.ts"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.importFromFirefox = importFromFirefox;\n\nvar _profile = require(\"../lib/profile\");\n\nvar _utils = require(\"../lib/utils\");\n\nvar _valueFormatters = require(\"../lib/value-formatters\");\n\nfunction importFromFirefox(firefoxProfile) {\n  const cpuProfile = firefoxProfile.profile;\n  const thread = cpuProfile.threads.length === 1 ? cpuProfile.threads[0] : cpuProfile.threads.filter(t => t.name === 'GeckoMain')[0];\n  const frameKeyToFrameInfo = new Map();\n\n  function extractStack(sample) {\n    let stackFrameId = sample[0];\n    const ret = [];\n\n    while (stackFrameId != null) {\n      const nextStackFrame = thread.stackTable.data[stackFrameId];\n      const [nextStackId, frameId] = nextStackFrame;\n      ret.push(frameId);\n      stackFrameId = nextStackId;\n    }\n\n    ret.reverse();\n    return ret.map(f => {\n      const frameData = thread.frameTable.data[f];\n      const location = thread.stringTable[frameData[0]];\n      const match = /(.*)\\s+\\((.*?)(?::(\\d+))?(?::(\\d+))?\\)$/.exec(location);\n      if (!match) return null;\n\n      if (match[2].startsWith('resource:') || match[2] === 'self-hosted' || match[2].startsWith('self-hosted:')) {\n        // Ignore Firefox-internals stuff\n        return null;\n      }\n\n      return (0, _utils.getOrInsert)(frameKeyToFrameInfo, location, () => ({\n        key: location,\n        name: match[1],\n        file: match[2],\n        // In Firefox profiles, line numbers are 1-based, but columns are\n        // 0-based. Let's normalize both to be 1-based.\n        line: match[3] ? parseInt(match[3]) : undefined,\n        col: match[4] ? parseInt(match[4]) + 1 : undefined\n      }));\n    }).filter(f => f != null);\n  }\n\n  const profile = new _profile.CallTreeProfileBuilder(firefoxProfile.duration);\n  let prevStack = [];\n\n  for (let sample of thread.samples.data) {\n    const stack = extractStack(sample);\n    const value = sample[1]; // Find lowest common ancestor of the current stack and the previous one\n\n    let lcaIndex = -1;\n\n    for (let i = 0; i < Math.min(stack.length, prevStack.length); i++) {\n      if (prevStack[i] !== stack[i]) {\n        break;\n      }\n\n      lcaIndex = i;\n    } // Close frames that are no longer open\n\n\n    for (let i = prevStack.length - 1; i > lcaIndex; i--) {\n      profile.leaveFrame(prevStack[i], value);\n    }\n\n    for (let i = lcaIndex + 1; i < stack.length; i++) {\n      profile.enterFrame(stack[i], value);\n    }\n\n    prevStack = stack;\n  }\n\n  profile.setValueFormatter(new _valueFormatters.TimeFormatter('milliseconds'));\n  return profile.build();\n}"},"sourceMaps":{"js":{"mappings":[{"source":"../src/import/firefox.ts","name":null,"original":{"line":1,"column":0},"generated":{"line":8,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":2,"column":0},"generated":{"line":10,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":3,"column":0},"generated":{"line":12,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":153,"column":6},"generated":{"line":14,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":153,"column":16},"generated":{"line":14,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":153,"column":6},"generated":{"line":14,"column":26}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":153,"column":34},"generated":{"line":14,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":153,"column":6},"generated":{"line":14,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":153,"column":64},"generated":{"line":14,"column":43}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":15,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":8},"generated":{"line":15,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":18},"generated":{"line":15,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":21},"generated":{"line":15,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":35},"generated":{"line":15,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":36},"generated":{"line":15,"column":36}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":154,"column":2},"generated":{"line":15,"column":43}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":156,"column":2},"generated":{"line":16,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":156,"column":8},"generated":{"line":16,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":156,"column":14},"generated":{"line":16,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":16,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":14},"generated":{"line":16,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":15},"generated":{"line":16,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":16,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":23},"generated":{"line":16,"column":36}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":16,"column":42}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":34},"generated":{"line":16,"column":47}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":16,"column":48}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":158,"column":8},"generated":{"line":16,"column":51}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":158,"column":18},"generated":{"line":16,"column":61}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":158,"column":19},"generated":{"line":16,"column":62}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":158,"column":8},"generated":{"line":16,"column":69}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":158,"column":27},"generated":{"line":16,"column":70}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":158,"column":8},"generated":{"line":16,"column":71}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":157,"column":4},"generated":{"line":16,"column":72}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":16,"column":75}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":18},"generated":{"line":16,"column":85}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":19},"generated":{"line":16,"column":86}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":16,"column":93}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":27},"generated":{"line":16,"column":94}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":16,"column":100}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":34},"generated":{"line":16,"column":101}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":35},"generated":{"line":16,"column":102}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":39},"generated":{"line":16,"column":106}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":40},"generated":{"line":16,"column":107}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":41},"generated":{"line":16,"column":108}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":39},"generated":{"line":16,"column":112}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":50},"generated":{"line":16,"column":117}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":16,"column":128}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":63},"generated":{"line":16,"column":130}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":159,"column":8},"generated":{"line":16,"column":131}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":156,"column":2},"generated":{"line":16,"column":132}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":2},"generated":{"line":17,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":8},"generated":{"line":17,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":27},"generated":{"line":17,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":17,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":34},"generated":{"line":17,"column":34}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":30},"generated":{"line":17,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":161,"column":2},"generated":{"line":17,"column":39}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":19,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":163,"column":11},"generated":{"line":19,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":19,"column":23}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":163,"column":24},"generated":{"line":19,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":163,"column":2},"generated":{"line":19,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":163,"column":38},"generated":{"line":19,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":20,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":8},"generated":{"line":20,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":20},"generated":{"line":20,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":38},"generated":{"line":20,"column":23}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":44},"generated":{"line":20,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":45},"generated":{"line":20,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":44},"generated":{"line":20,"column":31}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":164,"column":4},"generated":{"line":20,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":165,"column":4},"generated":{"line":21,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":165,"column":10},"generated":{"line":21,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":165,"column":13},"generated":{"line":21,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":165,"column":26},"generated":{"line":21,"column":16}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":165,"column":4},"generated":{"line":21,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":23,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":167,"column":11},"generated":{"line":23,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":167,"column":23},"generated":{"line":23,"column":23}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":167,"column":27},"generated":{"line":23,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":167,"column":4},"generated":{"line":23,"column":31}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":167,"column":33},"generated":{"line":23,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":6},"generated":{"line":24,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":12},"generated":{"line":24,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":26},"generated":{"line":24,"column":26}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":54},"generated":{"line":24,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":60},"generated":{"line":24,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":61},"generated":{"line":24,"column":36}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":54},"generated":{"line":24,"column":46}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":72},"generated":{"line":24,"column":47}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":54},"generated":{"line":24,"column":51}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":77},"generated":{"line":24,"column":52}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":54},"generated":{"line":24,"column":64}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":168,"column":6},"generated":{"line":24,"column":65}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":25,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":25,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":13},"generated":{"line":25,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":25,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":26},"generated":{"line":25,"column":26}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":12},"generated":{"line":25,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":37},"generated":{"line":25,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":169,"column":6},"generated":{"line":25,"column":51}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":26,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":26,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":9},"generated":{"line":26,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":10},"generated":{"line":26,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":26,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":15},"generated":{"line":26,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":170,"column":6},"generated":{"line":26,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":171,"column":6},"generated":{"line":27,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":171,"column":6},"generated":{"line":27,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":171,"column":18},"generated":{"line":27,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":171,"column":21},"generated":{"line":27,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":171,"column":6},"generated":{"line":27,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":172,"column":5},"generated":{"line":28,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":173,"column":4},"generated":{"line":30,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":173,"column":4},"generated":{"line":30,"column":4}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":173,"column":7},"generated":{"line":30,"column":7}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":173,"column":8},"generated":{"line":30,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":173,"column":4},"generated":{"line":30,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":31,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":31,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":14},"generated":{"line":31,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":175,"column":7},"generated":{"line":31,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":31,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":175,"column":11},"generated":{"line":31,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":175,"column":12},"generated":{"line":31,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":175,"column":15},"generated":{"line":31,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":8},"generated":{"line":32,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":14},"generated":{"line":32,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":23},"generated":{"line":32,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":26},"generated":{"line":32,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":32},"generated":{"line":32,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":33},"generated":{"line":32,"column":31}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":26},"generated":{"line":32,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":44},"generated":{"line":32,"column":42}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":26},"generated":{"line":32,"column":46}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":49},"generated":{"line":32,"column":47}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":26},"generated":{"line":32,"column":48}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":176,"column":8},"generated":{"line":32,"column":49}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":8},"generated":{"line":33,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":14},"generated":{"line":33,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":22},"generated":{"line":33,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":25},"generated":{"line":33,"column":23}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":31},"generated":{"line":33,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":32},"generated":{"line":33,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":25},"generated":{"line":33,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":44},"generated":{"line":33,"column":42}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":53},"generated":{"line":33,"column":51}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":54},"generated":{"line":33,"column":52}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":53},"generated":{"line":33,"column":53}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":25},"generated":{"line":33,"column":54}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":177,"column":8},"generated":{"line":33,"column":55}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":8},"generated":{"line":34,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":14},"generated":{"line":34,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":19},"generated":{"line":34,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":22},"generated":{"line":34,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":64},"generated":{"line":34,"column":62}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":22},"generated":{"line":34,"column":66}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":69},"generated":{"line":34,"column":67}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":22},"generated":{"line":34,"column":75}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":179,"column":8},"generated":{"line":34,"column":76}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":8},"generated":{"line":35,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":12},"generated":{"line":35,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":13},"generated":{"line":35,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":8},"generated":{"line":35,"column":16}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":20},"generated":{"line":35,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":27},"generated":{"line":35,"column":25}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":181,"column":20},"generated":{"line":35,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":183,"column":8},"generated":{"line":37,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":37,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":15},"generated":{"line":37,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":16},"generated":{"line":37,"column":16}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":15},"generated":{"line":37,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":37,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":19},"generated":{"line":37,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":37,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":30},"generated":{"line":37,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":37,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":185,"column":10},"generated":{"line":37,"column":46}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":185,"column":15},"generated":{"line":37,"column":51}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":185,"column":16},"generated":{"line":37,"column":52}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":185,"column":15},"generated":{"line":37,"column":53}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":185,"column":10},"generated":{"line":37,"column":54}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":185,"column":23},"generated":{"line":37,"column":59}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":184,"column":10},"generated":{"line":37,"column":72}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":10},"generated":{"line":37,"column":76}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":15},"generated":{"line":37,"column":81}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":16},"generated":{"line":37,"column":82}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":15},"generated":{"line":37,"column":83}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":10},"generated":{"line":37,"column":84}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":19},"generated":{"line":37,"column":85}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":10},"generated":{"line":37,"column":95}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":30},"generated":{"line":37,"column":96}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":186,"column":10},"generated":{"line":37,"column":110}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":183,"column":8},"generated":{"line":37,"column":111}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":187,"column":10},"generated":{"line":37,"column":113}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":188,"column":10},"generated":{"line":38,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":189,"column":10},"generated":{"line":39,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":189,"column":17},"generated":{"line":39,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":189,"column":10},"generated":{"line":39,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":190,"column":9},"generated":{"line":40,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":42,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":15},"generated":{"line":42,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":27},"generated":{"line":42,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":15},"generated":{"line":42,"column":56}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":48},"generated":{"line":42,"column":58}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":15},"generated":{"line":42,"column":66}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":58},"generated":{"line":42,"column":68}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":65},"generated":{"line":42,"column":75}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":193,"column":10},"generated":{"line":43,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":193,"column":10},"generated":{"line":43,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":193,"column":13},"generated":{"line":43,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":193,"column":15},"generated":{"line":43,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":65},"generated":{"line":43,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":10},"generated":{"line":44,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":10},"generated":{"line":44,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":14},"generated":{"line":44,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":16},"generated":{"line":44,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":21},"generated":{"line":44,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":22},"generated":{"line":44,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":194,"column":21},"generated":{"line":44,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":65},"generated":{"line":44,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":10},"generated":{"line":45,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":10},"generated":{"line":45,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":14},"generated":{"line":45,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":16},"generated":{"line":45,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":21},"generated":{"line":45,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":22},"generated":{"line":45,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":195,"column":21},"generated":{"line":45,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":65},"generated":{"line":45,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":197,"column":10},"generated":{"line":46,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":198,"column":10},"generated":{"line":47,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":10},"generated":{"line":48,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":10},"generated":{"line":48,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":14},"generated":{"line":48,"column":12}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":16},"generated":{"line":48,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":21},"generated":{"line":48,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":22},"generated":{"line":48,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":21},"generated":{"line":48,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":16},"generated":{"line":48,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":27},"generated":{"line":48,"column":25}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":35},"generated":{"line":48,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":36},"generated":{"line":48,"column":34}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":41},"generated":{"line":48,"column":39}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":42},"generated":{"line":48,"column":40}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":41},"generated":{"line":48,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":35},"generated":{"line":48,"column":42}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":16},"generated":{"line":48,"column":43}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":199,"column":48},"generated":{"line":48,"column":46}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":65},"generated":{"line":48,"column":55}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":10},"generated":{"line":49,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":10},"generated":{"line":49,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":13},"generated":{"line":49,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":15},"generated":{"line":49,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":20},"generated":{"line":49,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":21},"generated":{"line":49,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":20},"generated":{"line":49,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":15},"generated":{"line":49,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":26},"generated":{"line":49,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":34},"generated":{"line":49,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":35},"generated":{"line":49,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":40},"generated":{"line":49,"column":38}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":41},"generated":{"line":49,"column":39}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":40},"generated":{"line":49,"column":40}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":34},"generated":{"line":49,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":26},"generated":{"line":49,"column":42}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":47},"generated":{"line":49,"column":45}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":15},"generated":{"line":49,"column":46}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":200,"column":51},"generated":{"line":49,"column":49}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":65},"generated":{"line":50,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":58},"generated":{"line":50,"column":7}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":15},"generated":{"line":50,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":192,"column":8},"generated":{"line":50,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":202,"column":7},"generated":{"line":51,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":51,"column":5}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":203,"column":7},"generated":{"line":51,"column":7}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":51,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":203,"column":14},"generated":{"line":51,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":203,"column":15},"generated":{"line":51,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":203,"column":19},"generated":{"line":51,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":203,"column":20},"generated":{"line":51,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":203,"column":24},"generated":{"line":51,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":11},"generated":{"line":51,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":174,"column":4},"generated":{"line":51,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":204,"column":3},"generated":{"line":52,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":2},"generated":{"line":54,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":8},"generated":{"line":54,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":15},"generated":{"line":54,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":18},"generated":{"line":54,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":22},"generated":{"line":54,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":18},"generated":{"line":54,"column":53}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":45},"generated":{"line":54,"column":54}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":59},"generated":{"line":54,"column":68}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":60},"generated":{"line":54,"column":69}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":18},"generated":{"line":54,"column":77}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":206,"column":2},"generated":{"line":54,"column":78}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":208,"column":2},"generated":{"line":55,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":208,"column":6},"generated":{"line":55,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":208,"column":15},"generated":{"line":55,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":208,"column":31},"generated":{"line":55,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":208,"column":2},"generated":{"line":55,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":2},"generated":{"line":57,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":7},"generated":{"line":57,"column":7}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":11},"generated":{"line":57,"column":11}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":2},"generated":{"line":57,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":21},"generated":{"line":57,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":27},"generated":{"line":57,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":28},"generated":{"line":57,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":21},"generated":{"line":57,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":36},"generated":{"line":57,"column":36}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":2},"generated":{"line":57,"column":40}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":42},"generated":{"line":57,"column":42}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":4},"generated":{"line":58,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":10},"generated":{"line":58,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":15},"generated":{"line":58,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":18},"generated":{"line":58,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":30},"generated":{"line":58,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":31},"generated":{"line":58,"column":31}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":30},"generated":{"line":58,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":210,"column":4},"generated":{"line":58,"column":38}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":4},"generated":{"line":59,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":10},"generated":{"line":59,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":15},"generated":{"line":59,"column":15}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":18},"generated":{"line":59,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":24},"generated":{"line":59,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":25},"generated":{"line":59,"column":25}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":24},"generated":{"line":59,"column":26}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":211,"column":4},"generated":{"line":59,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":42},"generated":{"line":59,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":213,"column":4},"generated":{"line":59,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":214,"column":4},"generated":{"line":61,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":214,"column":8},"generated":{"line":61,"column":8}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":214,"column":16},"generated":{"line":61,"column":16}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":214,"column":19},"generated":{"line":61,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":214,"column":20},"generated":{"line":61,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":214,"column":4},"generated":{"line":61,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":4},"generated":{"line":63,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":9},"generated":{"line":63,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":13},"generated":{"line":63,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":14},"generated":{"line":63,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":17},"generated":{"line":63,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":4},"generated":{"line":63,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":20},"generated":{"line":63,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":21},"generated":{"line":63,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":24},"generated":{"line":63,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":28},"generated":{"line":63,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":29},"generated":{"line":63,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":24},"generated":{"line":63,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":33},"generated":{"line":63,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":38},"generated":{"line":63,"column":38}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":39},"generated":{"line":63,"column":39}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":24},"generated":{"line":63,"column":45}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":47},"generated":{"line":63,"column":47}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":56},"generated":{"line":63,"column":56}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":57},"generated":{"line":63,"column":57}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":24},"generated":{"line":63,"column":63}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":4},"generated":{"line":63,"column":64}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":66},"generated":{"line":63,"column":66}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":67},"generated":{"line":63,"column":67}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":4},"generated":{"line":63,"column":69}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":216,"column":71},"generated":{"line":63,"column":71}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":6},"generated":{"line":64,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":10},"generated":{"line":64,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":19},"generated":{"line":64,"column":19}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":20},"generated":{"line":64,"column":20}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":19},"generated":{"line":64,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":10},"generated":{"line":64,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":27},"generated":{"line":64,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":32},"generated":{"line":64,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":33},"generated":{"line":64,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":32},"generated":{"line":64,"column":34}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":6},"generated":{"line":64,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":217,"column":37},"generated":{"line":64,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":218,"column":8},"generated":{"line":65,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":219,"column":7},"generated":{"line":66,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":220,"column":6},"generated":{"line":68,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":220,"column":6},"generated":{"line":68,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":220,"column":14},"generated":{"line":68,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":220,"column":17},"generated":{"line":68,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":220,"column":6},"generated":{"line":68,"column":18}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":221,"column":5},"generated":{"line":69,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":209,"column":42},"generated":{"line":69,"column":5}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":223,"column":4},"generated":{"line":69,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":4},"generated":{"line":72,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":9},"generated":{"line":72,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":13},"generated":{"line":72,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":14},"generated":{"line":72,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":17},"generated":{"line":72,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":26},"generated":{"line":72,"column":26}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":27},"generated":{"line":72,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":17},"generated":{"line":72,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":36},"generated":{"line":72,"column":36}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":4},"generated":{"line":72,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":39},"generated":{"line":72,"column":39}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":40},"generated":{"line":72,"column":40}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":43},"generated":{"line":72,"column":43}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":4},"generated":{"line":72,"column":51}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":53},"generated":{"line":72,"column":53}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":54},"generated":{"line":72,"column":54}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":4},"generated":{"line":72,"column":56}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":224,"column":58},"generated":{"line":72,"column":58}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":6},"generated":{"line":73,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":6},"generated":{"line":73,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":13},"generated":{"line":73,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":14},"generated":{"line":73,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":6},"generated":{"line":73,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":25},"generated":{"line":73,"column":25}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":34},"generated":{"line":73,"column":34}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":35},"generated":{"line":73,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":34},"generated":{"line":73,"column":36}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":6},"generated":{"line":73,"column":37}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":39},"generated":{"line":73,"column":39}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":225,"column":6},"generated":{"line":73,"column":44}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":226,"column":5},"generated":{"line":74,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":4},"generated":{"line":76,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":9},"generated":{"line":76,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":13},"generated":{"line":76,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":14},"generated":{"line":76,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":17},"generated":{"line":76,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":25},"generated":{"line":76,"column":25}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":28},"generated":{"line":76,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":4},"generated":{"line":76,"column":29}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":31},"generated":{"line":76,"column":31}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":32},"generated":{"line":76,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":35},"generated":{"line":76,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":40},"generated":{"line":76,"column":40}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":41},"generated":{"line":76,"column":41}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":4},"generated":{"line":76,"column":47}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":49},"generated":{"line":76,"column":49}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":50},"generated":{"line":76,"column":50}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":4},"generated":{"line":76,"column":52}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":228,"column":54},"generated":{"line":76,"column":54}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":6},"generated":{"line":77,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":6},"generated":{"line":77,"column":6}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":13},"generated":{"line":77,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":14},"generated":{"line":77,"column":14}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":6},"generated":{"line":77,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":25},"generated":{"line":77,"column":25}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":30},"generated":{"line":77,"column":30}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":31},"generated":{"line":77,"column":31}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":30},"generated":{"line":77,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":6},"generated":{"line":77,"column":33}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":35},"generated":{"line":77,"column":35}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":229,"column":6},"generated":{"line":77,"column":40}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":230,"column":5},"generated":{"line":78,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":232,"column":4},"generated":{"line":80,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":232,"column":4},"generated":{"line":80,"column":4}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":232,"column":13},"generated":{"line":80,"column":13}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":232,"column":16},"generated":{"line":80,"column":16}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":232,"column":4},"generated":{"line":80,"column":21}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":233,"column":3},"generated":{"line":81,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":83,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":83,"column":2}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":9},"generated":{"line":83,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":10},"generated":{"line":83,"column":10}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":83,"column":27}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":28},"generated":{"line":83,"column":28}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":32},"generated":{"line":83,"column":32}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":28},"generated":{"line":83,"column":62}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":46},"generated":{"line":83,"column":63}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":28},"generated":{"line":83,"column":77}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":235,"column":2},"generated":{"line":83,"column":78}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":236,"column":2},"generated":{"line":84,"column":0}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":236,"column":9},"generated":{"line":84,"column":9}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":236,"column":16},"generated":{"line":84,"column":16}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":236,"column":17},"generated":{"line":84,"column":17}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":236,"column":9},"generated":{"line":84,"column":22}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":236,"column":2},"generated":{"line":84,"column":24}},{"source":"../src/import/firefox.ts","name":null,"original":{"line":237,"column":1},"generated":{"line":85,"column":0}}],"sources":{"../src/import/firefox.ts":"import {Profile, FrameInfo, CallTreeProfileBuilder} from '../lib/profile'\nimport {getOrInsert} from '../lib/utils'\nimport {TimeFormatter} from '../lib/value-formatters'\n\ninterface Allocations {\n  frames: any[]\n  sites: any[]\n  sizes: any[]\n  timestamps: any[]\n}\n\ninterface Configuration {\n  allocationsMaxLogLength: number\n  allocationsSampleProbability: number\n  bufferSize: number\n  sampleFrequency: number\n  withAllocations: boolean\n  withMarkers: boolean\n  withMemory: boolean\n  withTicks: boolean\n}\n\ninterface Lib {\n  arch: string\n  breakpadId: string\n  debugName: string\n  debugPath: string\n  end: any\n  name: string\n  offset: number\n  path: string\n  start: any\n}\n\ninterface Meta {\n  abi: string\n  asyncstack: number\n  debug: number\n  gcpoison: number\n  interval: number\n  misc: string\n  oscpu: string\n  platform: string\n  processType: number\n  product: string\n  shutdownTime?: any\n  stackwalk: number\n  startTime: number\n  toolkit: string\n  version: number\n}\n\ninterface PausedRange {\n  endTime: number\n  reason: string\n  startTime: number\n}\n\ntype Frame = [number] | [number, number | null, number | null, number, number]\n\ninterface FrameTable {\n  data: Frame[]\n  /*\n  schema: {\n    location: 0\n    implementation: 1\n    optimizations: 2\n    line: 3\n    category: 4\n  }\n  */\n}\n\ninterface MarkerMeta {\n  category: string\n  interval: string\n  type: string\n}\ntype Marker = [number, number] | [number, number, MarkerMeta]\n\ninterface Markers {\n  data: Marker[]\n  /*\n  schema: {\n    name: 0\n    time: 1\n    data: 2\n  }\n  */\n}\n\ntype Sample = [number, number, number] | [number, number, number, number, number]\n\ninterface Samples {\n  data: Sample[]\n  /*\n  schema: {\n    stack: 0\n    time: 1\n    responsiveness: 2\n    rss: 3\n    uss: 4\n  }\n  */\n}\n\nexport interface StackTable {\n  data: [number | null, number][]\n  /*\n  schema: {\n    prefix: 0\n    frame: 1\n  }\n  */\n}\n\nexport interface Thread {\n  frameTable: FrameTable\n  markers: Markers\n  name: string\n  pid: number\n  processType: string\n  registerTime: number\n  samples: Samples\n  stackTable: StackTable\n  stringTable: string[]\n  tid: number\n  unregisterTime?: any\n}\n\nexport interface FirefoxCPUProfile {\n  libs: Lib[]\n  meta: Meta\n  pausedRanges: PausedRange[]\n  processes: any[]\n  threads: Thread[]\n}\n\nexport interface FirefoxProfile {\n  allocations: Allocations\n  configuration: Configuration\n  duration: number\n  fileType: string\n  frames: any[]\n  label: string\n  markers: any[]\n  memory: any[]\n  profile: FirefoxCPUProfile\n  ticks: any[]\n  version: number\n}\n\nexport function importFromFirefox(firefoxProfile: FirefoxProfile): Profile {\n  const cpuProfile = firefoxProfile.profile\n\n  const thread =\n    cpuProfile.threads.length === 1\n      ? cpuProfile.threads[0]\n      : cpuProfile.threads.filter(t => t.name === 'GeckoMain')[0]\n\n  const frameKeyToFrameInfo = new Map<string, FrameInfo>()\n\n  function extractStack(sample: Sample): FrameInfo[] {\n    let stackFrameId: number | null = sample[0]\n    const ret: number[] = []\n\n    while (stackFrameId != null) {\n      const nextStackFrame: [number | null, number] = thread.stackTable.data[stackFrameId]\n      const [nextStackId, frameId] = nextStackFrame\n      ret.push(frameId)\n      stackFrameId = nextStackId\n    }\n    ret.reverse()\n    return ret\n      .map(f => {\n        const frameData = thread.frameTable.data[f]\n        const location = thread.stringTable[frameData[0]]\n\n        const match = /(.*)\\s+\\((.*?)(?::(\\d+))?(?::(\\d+))?\\)$/.exec(location)\n\n        if (!match) return null\n\n        if (\n          match[2].startsWith('resource:') ||\n          match[2] === 'self-hosted' ||\n          match[2].startsWith('self-hosted:')\n        ) {\n          // Ignore Firefox-internals stuff\n          return null\n        }\n\n        return getOrInsert(frameKeyToFrameInfo, location, () => ({\n          key: location,\n          name: match[1]!,\n          file: match[2]!,\n\n          // In Firefox profiles, line numbers are 1-based, but columns are\n          // 0-based. Let's normalize both to be 1-based.\n          line: match[3] ? parseInt(match[3]) : undefined,\n          col: match[4] ? parseInt(match[4]) + 1 : undefined,\n        }))\n      })\n      .filter(f => f != null) as FrameInfo[]\n  }\n\n  const profile = new CallTreeProfileBuilder(firefoxProfile.duration)\n\n  let prevStack: FrameInfo[] = []\n  for (let sample of thread.samples.data) {\n    const stack = extractStack(sample)\n    const value = sample[1]\n\n    // Find lowest common ancestor of the current stack and the previous one\n    let lcaIndex = -1\n\n    for (let i = 0; i < Math.min(stack.length, prevStack.length); i++) {\n      if (prevStack[i] !== stack[i]) {\n        break\n      }\n      lcaIndex = i\n    }\n\n    // Close frames that are no longer open\n    for (let i = prevStack.length - 1; i > lcaIndex; i--) {\n      profile.leaveFrame(prevStack[i], value)\n    }\n\n    for (let i = lcaIndex + 1; i < stack.length; i++) {\n      profile.enterFrame(stack[i], value)\n    }\n\n    prevStack = stack\n  }\n\n  profile.setValueFormatter(new TimeFormatter('milliseconds'))\n  return profile.build()\n}\n"},"lineCount":null}},"error":null,"hash":"8fba91a42320d721fd78ab0f5535860f","cacheData":{"env":{}}}